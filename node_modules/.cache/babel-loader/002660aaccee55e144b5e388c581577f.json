{"ast":null,"code":"import _slicedToArray from\"/home/dan/UCT/APG4009/Prac2/prac2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import InputLabel from\"@material-ui/core/InputLabel\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import Select from\"@material-ui/core/Select\";import{blue}from\"@material-ui/core/colors\";import{MapContainer,TileLayer,Marker,Popup}from\"react-leaflet\";import branches from\"../../../../data/branches.json\";import uct from\"../../../../images/uct.png\";import clarens from\"../../../../images/clarens.png\";import hartbeespoort from\"../../../../images/hartbeespoort.png\";import kariega from\"../../../../images/kariega.png\";import mahikeng from\"../../../../images/mahikeng.png\";import mbombela from\"../../../../images/mbombela.png\";import stlucia from\"../../../../images/stlucia.png\";import tzaneen from\"../../../../images/tzaneen.png\";import upington from\"../../../../images/upington.png\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{dialog:{position:\"absolute\",height:\"80vh\",width:\"50vw\",right:\"1vw\",bottom:\"5vh\"},formControl:{marginLeft:theme.spacing(3),minWidth:120,maxWidth:320}};});var BranchMap=function BranchMap(_ref){var isMapOpen=_ref.isMapOpen,handleClose=_ref.handleClose;var classes=useStyles();var _useState=useState([branches[0].gps.latitude,branches[0].gps.longitude]),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(branches[0].address.province),_useState4=_slicedToArray(_useState3,2),province=_useState4[0],setProvince=_useState4[1];var _useState5=useState(branches[0].address.address),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),map=_useState8[0],setMap=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),id=_useState10[0],setId=_useState10[1];var images={uct:uct,clarens:clarens,hartbeespoort:hartbeespoort,kariega:kariega,mahikeng:mahikeng,mbombela:mbombela,stlucia:stlucia,tzaneen:tzaneen,upington:upington};var handleChange=function handleChange(event){setId(event.target.value);setProvince(branches[event.target.value].address.province);setAddress(branches[event.target.value].address.address);setPosition([branches[event.target.value].gps.latitude,branches[event.target.value].gps.longitude]);map.flyTo([branches[event.target.value].gps.latitude,branches[event.target.value].gps.longitude]);};function getImageByKey(key){return images[key];}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{open:isMapOpen,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",classes:{paper:classes.dialog},children:[/*#__PURE__*/_jsxs(DialogTitle,{id:\"alert-dialog-title\",children:[province,\": \",address]}),/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Branch\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:id,onChange:handleChange,children:branches.map(function(branch){return/*#__PURE__*/_jsx(MenuItem,{value:branch.id,children:branch.address.province});})})]}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(MapContainer,{center:position,zoom:13,scrollWheelZoom:true,whenCreated:function whenCreated(map){return setMap(map);},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),branches.map(function(branch){return/*#__PURE__*/_jsx(Marker,{position:[branch.gps.latitude,branch.gps.longitude],children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flex:1},children:/*#__PURE__*/_jsx(\"img\",{src:getImageByKey(branch.locationId),width:260,height:190})})})},branch.id);})]})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",autoFocus:true,children:\"Close\"})})]})});};export default BranchMap;","map":{"version":3,"sources":["/home/dan/UCT/APG4009/Prac2/prac2/src/views/Home/components/BranchMap/index.jsx"],"names":["React","useState","makeStyles","Button","Dialog","DialogActions","DialogContent","DialogTitle","InputLabel","MenuItem","FormControl","Select","blue","MapContainer","TileLayer","Marker","Popup","branches","uct","clarens","hartbeespoort","kariega","mahikeng","mbombela","stlucia","tzaneen","upington","useStyles","theme","dialog","position","height","width","right","bottom","formControl","marginLeft","spacing","minWidth","maxWidth","BranchMap","isMapOpen","handleClose","classes","gps","latitude","longitude","setPosition","address","province","setProvince","setAddress","map","setMap","id","setId","images","handleChange","event","target","value","flyTo","getImageByKey","key","paper","branch","display","flex","locationId"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { blue } from \"@material-ui/core/colors\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport branches from \"../../../../data/branches.json\";\nimport uct from \"../../../../images/uct.png\";\nimport clarens from \"../../../../images/clarens.png\";\nimport hartbeespoort from \"../../../../images/hartbeespoort.png\";\nimport kariega from \"../../../../images/kariega.png\";\nimport mahikeng from \"../../../../images/mahikeng.png\";\nimport mbombela from \"../../../../images/mbombela.png\";\nimport stlucia from \"../../../../images/stlucia.png\";\nimport tzaneen from \"../../../../images/tzaneen.png\";\nimport upington from \"../../../../images/upington.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  dialog: {\n    position: \"absolute\",\n    height: \"80vh\",\n    width: \"50vw\",\n    right: \"1vw\",\n    bottom: \"5vh\",\n  },\n  formControl: {\n    marginLeft: theme.spacing(3),\n    minWidth: 120,\n    maxWidth: 320,\n  },\n}));\n\nconst BranchMap = ({ isMapOpen, handleClose }) => {\n  const classes = useStyles();\n\n  const [position, setPosition] = useState([\n    branches[0].gps.latitude,\n    branches[0].gps.longitude,\n  ]);\n  const [province, setProvince] = useState(branches[0].address.province);\n  const [address, setAddress] = useState(branches[0].address.address);\n  const [map, setMap] = useState(null);\n  const [id, setId] = useState(0);\n\n  const images = {\n    uct,\n    clarens,\n    hartbeespoort,\n    kariega,\n    mahikeng,\n    mbombela,\n    stlucia,\n    tzaneen,\n    upington,\n  };\n\n  const handleChange = (event) => {\n    setId(event.target.value);\n    setProvince(branches[event.target.value].address.province);\n    setAddress(branches[event.target.value].address.address);\n    setPosition([\n      branches[event.target.value].gps.latitude,\n      branches[event.target.value].gps.longitude,\n    ]);\n    map.flyTo([\n      branches[event.target.value].gps.latitude,\n      branches[event.target.value].gps.longitude,\n    ]);\n  };\n\n  function getImageByKey(key) {\n    return images[key];\n  }\n\n  return (\n    <div>\n      <Dialog\n        open={isMapOpen}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n        classes={{\n          paper: classes.dialog,\n        }}\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {province}: {address}\n        </DialogTitle>\n        <FormControl className={classes.formControl}>\n          <InputLabel id=\"demo-simple-select-label\">Branch</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={id}\n            onChange={handleChange}\n          >\n            {branches.map((branch) => (\n              <MenuItem value={branch.id}>{branch.address.province}</MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        <DialogContent>\n          <MapContainer\n            center={position}\n            zoom={13}\n            scrollWheelZoom={true}\n            whenCreated={(map) => setMap(map)}\n          >\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {branches.map((branch) => (\n              <Marker\n                key={branch.id}\n                position={[branch.gps.latitude, branch.gps.longitude]}\n              >\n                <Popup>\n                  <div style={{ display: \"flex\", flex: 1 }}>\n                    <img\n                      src={getImageByKey(branch.locationId)}\n                      width={260}\n                      height={190}\n                    />\n                  </div>\n                </Popup>\n              </Marker>\n            ))}\n          </MapContainer>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default BranchMap;\n"]},"metadata":{},"sourceType":"module"}